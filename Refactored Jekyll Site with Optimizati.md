# Refactored Jekyll Site with Optimizations

Based on your feedback, I've prepared all the necessary changes to optimize and refactor your Jekyll website. This includes:

- Providing complete files to be changed.
- Including a shell script to make necessary file and directory changes.
- Updating the `fetch_og_data.py` script to align with the changes.
- Considering that `github_projects.yml` serves a similar function to `projects.yml`.

---

## Table of Contents

1. [Updated File Structure](#updated-file-structure)
2. [Updated Files](#updated-files)
   - [_config.yml](#1-_configyml)
   - [Layouts](#layouts)
   - [Includes](#includes)
   - [SCSS/CSS Files](#scsscss-files)
   - [fetch_og_data.py](#fetch_og_datapy)
3. [Shell Script for File Operations](#shell-script-for-file-operations)
4. [Next Steps](#next-steps)

---

## Updated File Structure

```
html/
├── _config.yml
├── _data/
│   ├── repos.yml
│   ├── github_projects.yml  # Generated by fetch_og_data.py
│   └── countries.yml
├── _includes/
│   ├── custom-head.html
│   ├── disclaimer.html
│   ├── footer.html
│   ├── head.html
│   ├── header.html
│   ├── join_us.html
│   ├── navigation.html
│   ├── projects_list.html    # New include for projects listing
│   ├── social.html
│   └── ... (other includes)
├── _layouts/
│   ├── default.html
│   ├── page.html
│   ├── post.html
│   └── project.html          # New layout for project pages
├── assets/
│   ├── css/
│   │   ├── _variables.scss
│   │   ├── _base.scss
│   │   ├── _layout.scss
│   │   ├── _components.scss
│   │   ├── _overrides.scss
│   │   └── style.scss
│   └── images/
│       ├── child-with-robot.png
│       └── projects/
│           ├── TokenSecure.png
│           ├── TorchDevice.png
│           └── ... (other project images)
├── projects.md
├── projects/
│   ├── TokenSecure.md
│   ├── TorchDevice.md
│   ├── oobabooga-macOS.md
│   ├── text-generation-webui-macos.md
│   ├── venvutil.md
│   ├── TokenSecure/
│   │   └── TokenSecure-project-blog-entry.md
│   └── ... (other projects and their blog entries)
└── ... (other files and directories)
```

---

## Updated Files

### 1. `_config.yml`

Updated `_config.yml` to ensure consistency and remove redundancies. Adjusted collections and plugins as needed.

```yaml
# _config.yml

title: Distributed Thinking Systems
description: >-
  Using AI for good.
  <br>
  Mostly computing on and off.
  <br>
  Distributed Thinking Systems: Innovating AI, machine learning, and distributed computing solutions.
baseurl: "" # the subpath of your site, e.g. /blog
url: "https://unixwzrd.ai"
source: "html"
show_dir_listing: false

encoding: utf-8
markdown_ext: markdown,mkdown,mkdn,mkd,md
timezone: America/New_York

author:
  name: "Let's hear from you."
  email: "unixwzrd@unixwzrd.ai"

# Social links
twitter_username: unixwzrd
github_username: unixwzrd
linkedin_username: unixwzrd
huggingface_username: unixwzrd
patreon_username: unixwzrd
kofi_username: unixwzrd
wandb_username: unixwzrd

minima:
  social_links:
    - { platform: github, user_url: "https://github.com/unixwzrd" }
    - { platform: linkedin, user_url: "https://linkedin.com/in/unixwzrd" }
    - { platform: huggingface, user_url: "https://huggingface.co/unixwzrd" }
    - { platform: wandb, user_url: "https://wandb.ai/unixwzrd" }  
    - { platform: devdotto, user_url: "https://dev.to/unixwzrd" }
    - { platform: twitter, user_url: "https://twitter.com/unixwzrd" }
    - { platform: telegram, user_url: "https://telegram.me/unixwzrd" }
  skin: auto

github:
  username: unixwzrd

collections:
  projects:
    output: true
    permalink: /projects/:name/
  project_posts:
    output: true
    permalink: /projects/:project_name/:title/
    defaults:
      - scope:
          path: ""
          type: "project_posts"
        values:
          layout: post

tagline: "Mostly computing on and off."
page_excerpts:  false
excerpt_separator: "<!--more-->"
permalink: /:categories/:year/:month/:day/:title/
defaults:
  - scope:
      path: ""  # Applies to all files
    values:
      layout: page

theme: jekyll-minima

header_pages:
  - about.md
  - collaborate.md
  - projects.md
  - blog.md
  - resources.md
  - contact.md
  - faq.md

google_analytics: G-QZSHSBP292

plugins:
  - jekyll-email-protect
  - jekyll-feed
  - jekyll-seo-tag
  - jekyll-sitemap
  - jekyll-redirect-from
  - jemoji

exclude:
  - .DS_Store
  - .gitignore
  - .jekyll-cache/
  - .sass-cache/
  - .vscode/
  - file_layout.txt
  - Gemfile*
  - gemfiles/
  - html/.jekyll-cache/
  - node_modules/
  - prior-state/
  - stage/
  - tmp/
  - utils/
  - vendor/
```

### Layouts

#### `_layouts/project.html`

Create a new layout specifically for project pages.

```html
<!-- _layouts/project.html -->
---
layout: default
---

<article class="project">
  <header class="project-header">
    <h1 class="project-title">{{ page.title | escape }}</h1>
    {% if page.repo_url %}
      <p class="project-meta">
        GitHub: <a href="{{ page.repo_url }}">{{ page.repo_url }}</a>
      </p>
    {% endif %}
  </header>

  <div class="project-content">
    {% if page.image_url %}
      <img src="{{ page.image_url }}" alt="{{ page.title }} image" class="project-image">
    {% endif %}
    {{ content }}
  </div>

  {% if site.categories[page.project_name] %}
    <h2>Project Blog Entries</h2>
    {% for post in site.categories[page.project_name] %}
      <article class="post">
        <h3><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h3>
        <span class="post-date">{{ post.date | date: "%B %d, %Y" }}</span>
        {% assign excerpt = post.content | split: '<!--more-->' | first %}
        {{ excerpt | markdownify | process_heading }}
        <a href="{{ post.url | relative_url }}" class="btn">Read More</a>
      </article>
    {% endfor %}
  {% endif %}
</article>
```

**Notes:**

- Uses `page.project_name` to fetch the correct category for blog posts.
- Ensures that if there are any blog posts for the project, they are listed.

#### `_layouts/default.html`

You can keep your existing `default.html` as provided. No changes are necessary unless you want to adjust it.

```html
<!-- _layouts/default.html -->
<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

  {%- include head.html -%}

  <body>

    {%- include header.html -%}

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        {{ content }}
      </div>
    </main>

    {%- include footer.html -%}

  </body>

</html>
```

### Includes

#### `_includes/projects_list.html`

Create a new include to list all projects on the `projects.md` page.

```html
<!-- _includes/projects_list.html -->
<div class="projects-list">
  {% for project in site.data.github_projects.projects %}
    <div class="project-item">
      <h2><a href="{{ project.page_url }}">{{ project.name }}</a></h2>
      <p>{{ project.description }}</p>
      <a class="github-link" href="{{ project.repo_url }}">View on GitHub</a>
      <a class="project-blog-link" href="{{ project.page_url }}">Project Page</a>
    </div>
  {% endfor %}
</div>
```

**Notes:**

- Loops through `site.data.github_projects.projects` to display each project.
- Assumes `fetch_og_data.py` adds `page_url` to each project.

### SCSS/CSS Files

Break down your `style.scss` into partials for better organization.

#### `assets/css/_variables.scss`

```scss
// assets/css/_variables.scss

$primary-color: #00fcbb;
$secondary-color: #66d9ef;
$text-color: #cacaca;
$background-color: #141414;
$header-background: #141414;
$link-color: #00f;
$border-color: #cacaca;

// Add more variables as needed
```

#### `assets/css/_base.scss`

```scss
// assets/css/_base.scss

body {
  color: $text-color;
  background-color: $background-color;
}

a {
  color: $link-color;
  text-decoration: none;
}

.wrapper {
  margin: 0 auto;
  max-width: 900px;
  padding: 20px;
}

// Add more base styles as needed
```

#### `assets/css/_layout.scss`

```scss
// assets/css/_layout.scss

.site-header {
  background: $header-background;
  color: $text-color;
}

.site-footer {
  background: $header-background;
  color: $text-color;
}

// Add layout-specific styles
```

#### `assets/css/_components.scss`

```scss
// assets/css/_components.scss

.btn {
  background: $primary-color;
  color: #fff;
  padding: 10px 20px;
  text-decoration: none;
  border-radius: 5px;
}

.project-item {
  margin-bottom: 40px;
}

// Add more component styles
```

#### `assets/css/_overrides.scss`

```scss
// assets/css/_overrides.scss

// Overrides for dark mode or other specific cases

@media (prefers-color-scheme: dark) {
  body {
    background-color: $background-color;
    color: $text-color;
  }

  a {
    color: $link-color;
  }

  // Add more overrides
}
```

#### `assets/css/style.scss`

```scss
// assets/css/style.scss

---
---

@import
  "minima/skins/{{ site.minima.skin | default: 'auto' }}",
  "minima/initialize",
  "variables",
  "base",
  "layout",
  "components",
  "overrides";
```

### `fetch_og_data.py`

Update `fetch_og_data.py` to align with the changes and to ensure it uses `github_projects.yml`.

```python
# utils/bin/fetch_og_data.py

import os
import yaml
import requests
from pathlib import Path

# Load repository data
with open('html/_data/repos.yml', 'r') as f:
    repos_data = yaml.safe_load(f)

projects = []

for repo in repos_data['repositories']:
    owner = repo['owner']
    name = repo['name']
    repo_api_url = f'https://api.github.com/repos/{owner}/{name}'
    response = requests.get(repo_api_url)
    repo_data = response.json()

    project = {
        'name': repo_data['name'],
        'owner': owner,
        'repo_url': repo_data['html_url'],
        'description': repo_data.get('description', 'No description available.'),
        'image_url': f"/assets/images/projects/{repo_data['name']}.png",
        'page_url': f"/projects/{repo_data['name']}/"
    }
    projects.append(project)

    # Create project index file if it doesn't exist
    project_index_path = f'html/projects/{name}.md'
    if not os.path.exists(project_index_path):
        with open(project_index_path, 'w') as f:
            f.write(f"""---
title: "{name}"
layout: project
project_name: "{name}"
repo_url: "{project['repo_url']}"
image_url: "{project['image_url']}"
permalink: /projects/{name}/
---

## {name}

{project['description']}

- [View on GitHub]({project['repo_url']})

""")

    # Create blog directory and placeholder file if it doesn't exist
    blog_dir = f'html/projects/{name}'
    if not os.path.exists(blog_dir):
        os.makedirs(blog_dir)

    blog_post_path = os.path.join(blog_dir, f'{name}-project-blog-entry.md')
    if not os.path.exists(blog_post_path):
        with open(blog_post_path, 'w') as f:
            f.write(f"""---
title: "{name} Blog Entry"
layout: post
category: {name}
published: false
---

This is a placeholder for the project blog entry.

""")

# Write projects data to _data/github_projects.yml
with open('html/_data/github_projects.yml', 'w') as f:
    yaml.dump({'projects': projects}, f)
```

**Notes:**

- Updates the paths to match your directory structure.
- Ensures that existing files are not overwritten.
- Adds `page_url` to each project for easy linking.
- Uses `github_projects.yml` as per your existing setup.

---

## Shell Script for File Operations

Here's a shell script that performs the necessary file and directory operations.

```bash
#!/bin/bash

# shell_scripts/update_structure.sh

#!/bin/bash

# Set the base directory
BASE_DIR="html"

# 1. Move assets/css/style.scss to assets/css/_overrides.scss
mv "$BASE_DIR/assets/css/style.scss" "$BASE_DIR/assets/css/_overrides.scss"

# 2. Create the new SCSS partials
touch "$BASE_DIR/assets/css/_variables.scss"
touch "$BASE_DIR/assets/css/_base.scss"
touch "$BASE_DIR/assets/css/_layout.scss"
touch "$BASE_DIR/assets/css/_components.scss"

# 3. Create an empty style.scss that imports the partials
cat <<EOL > "$BASE_DIR/assets/css/style.scss"
---
---

@import
  "minima/skins/{{ site.minima.skin | default: 'auto' }}",
  "minima/initialize",
  "variables",
  "base",
  "layout",
  "components",
  "overrides";
EOL

# 4. Remove existing project markdown files and directories (optional)
read -p "Do you want to remove existing project markdown files and directories in html/projects/? (y/n): " choice
if [ "$choice" == "y" ]; then
  find "$BASE_DIR/projects/" -type f -name "*.md" -not -name "projects.md" -delete
  find "$BASE_DIR/projects/" -type d -not -path "$BASE_DIR/projects/" -exec rm -r {} +
fi

# 5. Ensure necessary directories exist
mkdir -p "$BASE_DIR/_layouts"
mkdir -p "$BASE_DIR/_includes"
mkdir -p "$BASE_DIR/_data"

# 6. Copy the new layout and include files
# (Assuming you have the new files in a directory called 'new_files')
cp new_files/_layouts/project.html "$BASE_DIR/_layouts/"
cp new_files/_includes/projects_list.html "$BASE_DIR/_includes/"

echo "File structure updated successfully."
```

**Notes:**

- Adjust `BASE_DIR` if your base directory is different.
- The script moves and creates SCSS files as per the new structure.
- It optionally deletes existing project markdown files and directories in `html/projects/`.
- Copies the new layout and include files into the appropriate directories.
- Make sure to have the new files (`project.html` and `projects_list.html`) in a directory called `new_files` or adjust the script accordingly.

**Make the script executable:**

```bash
chmod +x shell_scripts/update_structure.sh
```

---

## Updated `projects.md`

Update your `projects.md` to use the new `projects_list.html` include.

```markdown
---
title: "Projects"
layout: page
menu_item: Projects
permalink: /projects/
---

## Open Source Projects

At **Distributed Thinking Systems**, we are constantly pushing boundaries with innovative projects in AI, data science, and distributed computing.

{% include projects_list.html %}

## More to come

More projects on the way and even some demos and how-to's for things like processing audio, for speech to text and interpersonal communications dynamics and analysis. It will take me a bit of time to get things organized and some tutorials up, but I will be working non-stop to help provide some good information, both of what I can do and how you may be able to do some of this yourself.

{% include join_us.html %}

{% include getintouch.html %}
```

---

## Next Steps

1. **Backup Your Current Site:**

   Before making any changes, ensure you have a backup of your current site.

2. **Run the Shell Script:**

   Execute the `update_structure.sh` script to reorganize the file structure.

3. **Apply the Updated Files:**

   - Replace the existing files with the updated ones provided above.
   - Ensure that the new layouts, includes, and SCSS files are in the correct directories.

4. **Run `fetch_og_data.py`:**

   - Execute the updated `fetch_og_data.py` script to generate the project files and update `github_projects.yml`.

5. **Test the Site Locally:**

   - Run `jekyll serve` to build and serve the site locally.
   - Navigate through the site to ensure everything works as expected.

6. **Adjust as Necessary:**

   - If you encounter any issues, check the console output for errors.
   - Verify that all paths and filenames are correct.

---

**Note:** The provided shell script assumes that you have the new layout and include files in a directory called `new_files`. Adjust the script paths based on where you place these files.

Feel free to reach out if you need further assistance or if any adjustments are required.


Apologies for the oversight in my previous response. I missed incorporating the styles from your original `style.css` into the new SCSS partials. Below, I've updated the SCSS files to include all your original styles, ensuring nothing is left out. I've also adjusted the shell script accordingly.

---

## Updated SCSS/CSS Files

### Overview

We will distribute your original `style.css` content into the following SCSS partials:

- `_variables.scss`: For variables like colors and dimensions.
- `_base.scss`: For base styles and global elements.
- `_layout.scss`: For layout-related styles.
- `_components.scss`: For component-specific styles (e.g., buttons, tables).
- `_overrides.scss`: For dark mode overrides and any other style overrides.

### `assets/css/_variables.scss`

```scss
// assets/css/_variables.scss

// Color Variables
$primary-color: #00fcbb;
$secondary-color: #66d9ef;
$text-color: #cacaca;
$background-color: #141414;
$header-background: #141414;
$link-color: #00f;
$border-color: #cacaca;

// Table Colors
$header-color: #000040;
$odd-row-color: darken($header-color, 5%);
$even-row-color: lighten($header-color, 2%);

// Dimensions
$brand-graphic-width: 45px;
$brand-graphic-margin-right: 20px;
$wrapper-max-width: 900px;
$wrapper-padding: 20px;

// Font Sizes
$h3-font-size: 1.5rem;
$post-date-font-size: 0.9rem;
$btn-font-size: 0.9rem;
$project-details-h2-font-size: 1.6rem;

// Other Variables
$code-background: #000000;
```

### `assets/css/_base.scss`

```scss
// assets/css/_base.scss

body {
  color: $text-color;
  background-color: $background-color;
}

a {
  color: $link-color;
  text-decoration: none;
}

.wrapper {
  margin: 0 auto;
  max-width: $wrapper-max-width;
  padding: $wrapper-padding;
}

// Highlighter Rouge Overrides
.highlighter-rouge {
  .highlight pre {
    background: $code-background;
  }
  pre,
  code {
    background: $code-background;
  }
}
```

### `assets/css/_layout.scss`

```scss
// assets/css/_layout.scss

// Header and Site Title
.header,
.site-title,
.site-header {
  color: $text-color !important;
  background: $header-background !important;
}

.site-header {
  border-top: 1px !important;
}

// Wrapper Adjustments
.wrapper {
  margin-left: 80px auto;
  margin-right: 80px auto;
  max-width: $wrapper-max-width;
  padding: $wrapper-padding;
}

// Brand Graphic Styling
.brand-graphic {
  width: $brand-graphic-width;
  height: auto;
  margin-right: $brand-graphic-margin-right;
  vertical-align: middle;
}
```

### `assets/css/_components.scss`

```scss
// assets/css/_components.scss

// Blockquote Styling
blockquote {
  color: #60c0ee !important;
  background: #000000;
  border-left-color: #5592b4;
}

// Table Styling
table {
  border: 1px solid $border-color;

  th {
    background-color: $header-color !important;
    border: 1px solid $border-color;
    font-weight: bold !important;
    padding: 12px;
  }

  tr {
    border: 1px;
  }

  td {
    border: 1px solid $border-color;
    padding: 12px;
  }

  // Odd and Even Row Backgrounds
  .odd td {
    background-color: $odd-row-color;
  }
  .even td {
    background-color: $even-row-color;
  }

  // Cell Border Adjustments
  td:empty {
    border-top: none;
    border-bottom: none;
  }
  td:first-child {
    border-bottom: none;
  }
  tr:last-of-type td:first-child:not(:empty) {
    border-bottom: 1px;
  }
}

// Code Blocks
pre,
code {
  background: $code-background;
}

// Post Styling
.post {
  h3 {
    font-size: $h3-font-size;
    line-height: 1.2;
    margin-bottom: 0rem;
    margin-top: 0.2rem;
  }

  .post-date {
    font-size: $post-date-font-size;
    color: #aaaaaa;
    display: inline-block;
    margin-bottom: 0.5rem;
  }

  .post-excerpt {
    margin-left: 10px;
    margin-bottom: 0.2rem;
  }

  .p {
    font-size: 1.1rem;
    line-height: 1.5rem;
    margin-bottom: 1.2rem;
  }

  .btn {
    margin-top: 0.0rem;
    margin-bottom: 1.0rem;
    display: inline-block;
    font-size: $btn-font-size;
  }
}

// Project Components
.project-table {
  width: 100%;
  margin-bottom: 20px;
  border-spacing: 20px;
  border: none !important;
  padding: 5px;
}

.project-image {
  width: 50%;
  vertical-align: top;
  border: none !important;
  padding-left: none !important;
}

.project-preview {
  width: 100%;
  height: auto;
  max-height: 150px;
  object-fit: cover;
  border-radius: 0 !important;
  border: none !important;
}

.project-details {
  width: 50%;
  vertical-align: top;
  padding-left: 10px;
  padding-top: 0px !important;
  margin-top: 0px !important;
  border: none !important;
}

.project-details h2 {
  font-size: $project-details-h2-font-size;
  margin-bottom: 10px;
  margin-top: 0 !important;
}

.github-link,
.project-blog-link {
  font-size: 1rem;
  color: $link-color;
  text-decoration: none;
  padding: 5px;
}

// Links Row
.links-row {
  display: flex;
  justify-content: space-between;
  margin-top: 10px;
}

// Obfuscated Email Link
#obfuscated-email a {
  color: #0000CC;
  text-decoration: underline;
}

#contact-link {
  cursor: pointer;
}
```

### `assets/css/_overrides.scss`

```scss
// assets/css/_overrides.scss

@media (prefers-color-scheme: dark) {
  // Import Monokai Theme for Syntax Highlighting
  @import "mineokai";

  // Override Body Styles
  body {
    color: $text-color !important;
    background-color: $background-color !important;
  }

  // Header and Site Title
  .header,
  .site-title,
  .site-header {
    color: $text-color !important;
    background: $header-background !important;
  }

  // Blockquote Styling
  blockquote {
    color: #60c0ee !important;
    background: #000000;
    border-left-color: #5592b4;
  }

  // Code Blocks
  pre,
  code {
    background: $code-background;
  }

  // Highlighter Rouge Overrides (Repeated for Dark Mode)
  .highlighter-rouge {
    .highlight pre {
      background: $code-background;
    }
    pre,
    code {
      background: $code-background;
    }
  }
}
```

### `assets/css/style.scss`

```scss
// assets/css/style.scss

---
---

@import
  "minima/skins/{{ site.minima.skin | default: 'auto' }}",
  "minima/initialize",
  "variables",
  "base",
  "layout",
  "components",
  "overrides";
```

### Notes:

- **Variables:** All colors, dimensions, and font sizes are centralized in `_variables.scss` for easy management.
- **Base Styles:** Core elements and resets are in `_base.scss`.
- **Layout Styles:** Styles related to the overall layout and structure are in `_layout.scss`.
- **Component Styles:** Specific components like tables, posts, projects, and buttons are styled in `_components.scss`.
- **Overrides:** Dark mode and other overrides are placed in `_overrides.scss`.

---

## Adjusted Shell Script

Here's the updated shell script with necessary adjustments:

```bash
#!/bin/bash

# shell_scripts/update_structure.sh

# Set the base directory
BASE_DIR="html"

# 1. Move existing style.scss to _overrides.scss if it exists
if [ -f "$BASE_DIR/assets/css/style.scss" ]; then
  mv "$BASE_DIR/assets/css/style.scss" "$BASE_DIR/assets/css/_overrides.scss"
fi

# 2. Create the new SCSS partials if they don't exist
touch "$BASE_DIR/assets/css/_variables.scss"
touch "$BASE_DIR/assets/css/_base.scss"
touch "$BASE_DIR/assets/css/_layout.scss"
touch "$BASE_DIR/assets/css/_components.scss"

# 3. Create style.scss that imports the partials
cat <<EOL > "$BASE_DIR/assets/css/style.scss"
---
---

@import
  "minima/skins/{{ site.minima.skin | default: 'auto' }}",
  "minima/initialize",
  "variables",
  "base",
  "layout",
  "components",
  "overrides";
EOL

# 4. Remove existing project markdown files and directories (optional)
read -p "Do you want to remove existing project markdown files and directories in html/projects/? (y/n): " choice
if [ "$choice" == "y" ]; then
  find "$BASE_DIR/projects/" -type f -name "*.md" -not -name "projects.md" -delete
  find "$BASE_DIR/projects/" -type d -not -path "$BASE_DIR/projects/" -exec rm -r {} +
fi

# 5. Ensure necessary directories exist
mkdir -p "$BASE_DIR/_layouts"
mkdir -p "$BASE_DIR/_includes"
mkdir -p "$BASE_DIR/_data"

# 6. Copy the new layout and include files
# Assuming you have the new files in a directory called 'new_files'
cp new_files/_layouts/project.html "$BASE_DIR/_layouts/"
cp new_files/_includes/projects_list.html "$BASE_DIR/_includes/"

# 7. Copy updated SCSS partials
cp new_files/assets/css/_variables.scss "$BASE_DIR/assets/css/"
cp new_files/assets/css/_base.scss "$BASE_DIR/assets/css/"
cp new_files/assets/css/_layout.scss "$BASE_DIR/assets/css/"
cp new_files/assets/css/_components.scss "$BASE_DIR/assets/css/"
cp new_files/assets/css/_overrides.scss "$BASE_DIR/assets/css/"

echo "File structure updated successfully."
```

**Notes:**

- **Step 1:** The script now checks if `style.scss` exists before moving it to `_overrides.scss`.
- **Step 7:** Added copying of the updated SCSS partials from `new_files` directory to the appropriate location.
- **Ensure `new_files` Directory Exists:** Make sure that the `new_files` directory contains the updated files, structured as shown.

---

## Next Steps

1. **Prepare the `new_files` Directory:**

   - Create a directory called `new_files` at the same level as the `html` directory.
   - Within `new_files`, replicate the directory structure for `_layouts`, `_includes`, and `assets/css`, placing the updated files in their respective locations.

   ```
   new_files/
   ├── _layouts/
   │   └── project.html
   ├── _includes/
   │   └── projects_list.html
   └── assets/
       └── css/
           ├── _variables.scss
           ├── _base.scss
           ├── _layout.scss
           ├── _components.scss
           └── _overrides.scss
   ```

2. **Run the Shell Script:**

   - Ensure the script `update_structure.sh` is executable.
   - Run the script:

     ```bash
     bash shell_scripts/update_structure.sh
     ```

3. **Run `fetch_og_data.py`:**

   - After the file structure is updated, run your updated `fetch_og_data.py` script to generate the project files and update `github_projects.yml`.

4. **Test the Site Locally:**

   - Build and serve the site locally using Jekyll:

     ```bash
     cd html
     jekyll serve
     ```

   - Navigate through the site to ensure that all styles are correctly applied and that the site functions as expected.

5. **Verify Styles:**

   - Check that all styles from your original `style.css` are present and correctly applied.
   - Pay special attention to dark mode styles and component-specific styles.

6. **Adjust if Necessary:**

   - If you notice any missing styles or issues, you can adjust the SCSS partials accordingly.
   - Ensure that any variables used are defined in `_variables.scss`.

---

## Additional Notes

- **Testing Styles:**

  - Since SCSS compiles into CSS, make sure that your Jekyll build process compiles the SCSS files correctly.
  - If you encounter issues with SCSS compilation, check for syntax errors or missing semicolons.

- **Variables and Mixins:**

  - Ensure that any SCSS variables or mixins used in your styles are properly defined in `_variables.scss` or another appropriate partial.

- **Consistency:**

  - By organizing your styles into partials, you make it easier to maintain and update your stylesheets.
  - This structure also helps in identifying and isolating styles related to specific components or features.

---

Feel free to reach out if you have any questions or need further assistance. I'm here to help ensure your site's styles are properly organized and all functionalities are preserved.